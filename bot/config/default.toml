# Trading Bot Configuration
# Copy this file to bot/config/local.toml and fill in your values.
# Secrets (API keys) should be set as environment variables instead.

# --- Alpaca ---
# Set these as environment variables:
#   export ALPACA_API_KEY="your-key"
#   export ALPACA_SECRET_KEY="your-secret"
paper_trading = true

# --- Position Sizing ---
position_sizing = "percent"
pct_equity = 0.90          # 90% of equity per trade
# fixed_size = 10000.0     # For fixed sizing
# risk_pct = 0.02          # For risk_based sizing

# --- Email Notifications (Gmail) ---
# Set these as environment variables:
#   export EMAIL_FROM="your-email@gmail.com"
#   export EMAIL_TO="your-email@gmail.com"
#   export EMAIL_PASSWORD="your-gmail-app-password"
# Get an App Password: https://myaccount.google.com/apppasswords
email_enabled = true
email_smtp_server = "smtp.gmail.com"
email_smtp_port = 587

# --- Storage ---
db_path = "bot/data/trading.db"

# --- Logging ---
log_level = "INFO"
log_file = "bot/data/bot.log"

# --- Risk Management ---
[risk]
max_daily_loss = 3000.0      # Pause if daily loss exceeds $3,000
max_drawdown_pct = 15.0      # Circuit breaker at 15% drawdown
max_position_value_pct = 0.90 # Max single position as % of equity
max_positions = 1             # Max positions per ticker (always 1)
max_total_positions = 2       # Max positions across ALL tickers
max_total_exposure_pct = 0.90 # Total $ exposure cap as % of equity (90% = no margin)
cooldown_after_stop = 0

# --- Strategies ---
# Each ticker can run on multiple timeframes. The bot scores signals from
# each timeframe and picks the best one to trade on (highest ADX, best R:R).
# Use timeframes = ["2m", "5m", "10m"] for multi-TF mode.
# Or use timeframe = "5m" for single-TF mode (legacy).

[strategies.HIMS]
file = "strategies/mstr_supertrend_v1.py"
timeframes = ["2m", "5m", "10m"]
enabled = true
params = { atr_stop_mult = 1.5, atr_target_mult = 3.5 }

[strategies.PLTR]
file = "strategies/pltr_supertrend_v2.py"
timeframes = ["2m", "5m", "10m"]
enabled = true
params = {}

[strategies.MSTZ]
file = "strategies/mstr_supertrend_v1.py"
timeframes = ["2m", "5m", "10m"]
enabled = true
long_only = true    # Inverse ETF — short signals don't make sense
params = { atr_stop_mult = 1.5, atr_target_mult = 3.5 }

[strategies.MSTU]
file = "strategies/mstr_supertrend_v1.py"
timeframes = ["2m", "5m", "10m"]
enabled = true
long_only = true    # Leveraged ETF — short signals don't make sense
params = { atr_stop_mult = 1.5, atr_target_mult = 3.5 }
